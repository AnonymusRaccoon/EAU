!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";n.r(t),n.d(t,"setup",function(){return s});var r,o=0,a=0,i="76561198250223174";function s(){r=document.querySelector(".carousel"),$.getJSON("http://api.steampowered.com/IPlayerService/GetRecentlyPlayedGames/v0001/?key=7C218E8D1347C3CD6CB8117E5ED533BC&steamid="+i+"&format=json",JSON,function(e){if(0!=e.response.total_count){for(var t=[],n=0;n<e.response.games.length;n++){var r=e.response.games[n];t[n]=new l(r.AppId,r.name,r.img_icon_url)}console.log(JSON.stringify(e));for(var o=document.getElementsByClassName("carousel__cell"),a=0;a<o.length;a++)o[a].src=t[a].thumb,o[a].dataset.game=t[a].AppId,o[a].id=a.toString(),o[a].addEventListener("click",function(){c(event.target)})}else console.log("no recent played games")})}function c(e){if(a=20*(o-e.id)+a,o==e.id)return t=e.dataset.game,void console.log(t);var t;r.style.transform="translateZ(-880px) rotateY("+a+"deg)",o=e.id}var l=function(){return function(e,t,n){this.AppId=e,this.name=t,this.thumb=n}}()},function(e,t,n){const r=n(5),o=n(6),a=n(7);e.exports=class{constructor(e){this.path=o.join((r.app||r.remote.app).getPath("userData"),e+".json"),this.data=function(e){try{return JSON.parse(a.readFileSync(e))}catch{return{}}}(this.path)}get(e){return this.data[e]}set(e,t){this.data[e]=t,a.writeFileSync(this.path,JSON.stringify(this.data))}}},function(e,t,n){"use strict";n.r(t);var r,o=function(){return function(e,t,n,r,o,a,i){this.name=e,this.appid=t,this.thumbnail=n,this.launcher=r,this.launcherID=o,this.isInstalled=a,this.localPath=i}}();!function(e){e[e.LocalOnly=0]="LocalOnly",e[e.Steam=1]="Steam"}(r||(r={}));var a=n(1);function i(){var e;e=function(){var e=navigator.userAgent.toLowerCase();if(console.log("Agent: "+e),e.indexOf(" electron/")>-1){var t=new(n(1))("account").get("steam");return null!=t?t:"76561198250223174"}return console.log("AGENT IS NOT ELECTRON, NO HANDLING FOR NOW"),"76561198250223174"}(),$.get("https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key=7C218E8D1347C3CD6CB8117E5ED533BC&steamid="+e+"&include_appinfo=1&include_played_free_games=1&appids_filter=&format=json",function(e){for(var t=[],n=0;n<e.response.game_count;n++){var i=e.response.games[n],s="https://steamcdn-a.akamaihd.net/steam/apps/"+i.appid+"/header.jpg";t[n]=new o(i.name,i.appid,s,r.Steam,null,!0,null)}var c=new a("Games");c.set("games",t)})}function s(){var e,t=(e=n(1),navigator.userAgent.toLowerCase().indexOf(" electron/")>-1?new e("Games").get("games"):(console.log("AGENT IS NOT ELECTRON, NO HANDLING FOR NOW"),null));i();for(var r=document.getElementById("library"),o=function(){var e=t[a],n="<img src='"+e.thumbnail+"'/> <p>"+e.name+"</p>",o=document.createElement("div");o.className="game",o.onclick=function(){var t;t=e,console.log(t.name)},e.isInstalled&&(n+='<img src="../../dist/drawables/installed.svg" style="position: absolute; top: 0; right: 0; padding: 5px;"/>'),o.innerHTML=n,null!=r&&r.appendChild(o)},a=0;a<t.length;a++)o()}n.d(t,"populateGrid",function(){return s})},function(e,t,n){n(4),e.exports=n(0)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2);function a(){$("#content").load("fragments/home.html",function(){Object(r.setup)(),Object(o.populateGrid)()}),document.getElementById("title").innerHTML="EAU"}$(function(){a(),document.getElementById("title").onclick=function(){a()},document.getElementById("searchBtn").onclick=function(){var e;(e=document.getElementById("searchInput")).value="",e.focus()},document.getElementById("settingsBtn").onclick=function(){$("#content").load("fragments/settings.html",function(){}),document.getElementById("title").innerHTML="<i class='icon fas fa-arrow-left'></i>  Settings"}}),n(2),n(0)},function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL0Nhcm91c2VsLnRzIiwid2VicGFjazovLy8uL3NyYy9qcy9zdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvR2FtZUxvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvVG9rZW5NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy90cy9MaWJyYXJ5LnRzIiwid2VicGFjazovLy8uL3NyYy90cy9pbmRleC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJlbGVjdHJvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInNldHVwIiwiY2Fyb3VzZWwiLCJzZWxlY3RlZEluZGV4IiwiYW5nbGUiLCJjbGllbnRUb2tlbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIiQiLCJnZXRKU09OIiwiSlNPTiIsImRhdGEiLCJyZXNwb25zZSIsInRvdGFsX2NvdW50IiwiU2VsZWN0ZWRSZWNlbnRHYW1lcyIsImlfMSIsImdhbWVzIiwibGVuZ3RoIiwiZ2FtZSIsIkdhbWVNZXRhIiwiQXBwSWQiLCJpbWdfaWNvbl91cmwiLCJjb25zb2xlIiwibG9nIiwic3RyaW5naWZ5IiwibGlzdCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzcmMiLCJ0aHVtYiIsImRhdGFzZXQiLCJpZCIsInRvU3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJvdGF0ZUNhcm91c2VsIiwiZXZlbnQiLCJ0YXJnZXQiLCJzdHlsZSIsInRyYW5zZm9ybSIsInRoaXMiLCJlbGVjdHJvbiIsInBhdGgiLCJmcyIsIltvYmplY3QgT2JqZWN0XSIsImpvaW4iLCJhcHAiLCJyZW1vdGUiLCJnZXRQYXRoIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJyZWFkRmlsZSIsIndyaXRlRmlsZVN5bmMiLCJsYXVuY2hlciIsIkdhbWUiLCJhcHBpZCIsInRodW1ibmFpbCIsImxhdW5jaGVySUQiLCJpc0luc3RhbGxlZCIsImxvY2FsUGF0aCIsIlN0b3JlIiwiVXBkYXRlR2FtZXNKU09OIiwic3RlYW1Ub2tlbiIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInRrbiIsImdldFN0ZWFtVG9rZW4iLCJnYW1lX2NvdW50IiwiZ2FtZURhdGEiLCJTdGVhbSIsInN0b3JlIiwic2V0IiwicG9wdWxhdGVHcmlkIiwiZ3JpZCIsImdldEVsZW1lbnRCeUlkIiwiX2xvb3BfMSIsImdyaWRIdG1sIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJvbmNsaWNrIiwiZ2FtZUNsaWNrZWQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsIl9DYXJvdXNlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX0xpYnJhcnlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImhvbWUiLCJsb2FkIiwiaW5wdXQiLCJmb2N1cyIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFB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QyxjQUNBb0IsR0FBQSwrR0FDQUMsRUFBQUssVUFBQU4sRUFDQSxNQUFBSCxHQUNBQSxFQUFBVSxZQUFBTixJQUVBN0csRUFBQSxFQUFtQkEsRUFBQWdELEVBQUFDLE9BQWtCakQsSUFDckMyRyxJQWxCQS9HLEVBQUFVLEVBQUEwQixFQUFBLGlDQUFBd0UsdUVDQUE1RyxFQUFBa0IsRUFBQWtCLEdBQUEsSUFBQW9GLEVBQUF4SCxFQUFBLEdBQUF5SCxFQUFBekgsRUFBQSxHQVNBLFNBQUEwSCxJQUNBOUUsRUFBQSxZQUFBK0UsS0FBQSxpQ0FDUTdHLE9BQUEwRyxFQUFBLE1BQUExRyxHQUNBQSxPQUFBMkcsRUFBQSxhQUFBM0csS0FFUjRCLFNBQUFvRSxlQUFBLFNBQUFRLFVBQUEsTUFYQTFFLEVBQUEsV0FDQThFLElBQ0FoRixTQUFBb0UsZUFBQSxTQUFBTSxRQUFBLFdBQTRETSxLQUM1RGhGLFNBQUFvRSxlQUFBLGFBQUFNLFFBQUEsV0FVQSxJQUNBUSxLQUFBbEYsU0FBQW9FLGVBQUEsZ0JBQ0F6RixNQUFBLEdBQ0F1RyxFQUFBQyxTQVpBbkYsU0FBQW9FLGVBQUEsZUFBQU0sUUFBQSxXQWVBeEUsRUFBQSxZQUFBK0UsS0FBQSx3Q0FFQWpGLFNBQUFvRSxlQUFBLFNBQUFRLFVBQUEsc0RBRUF0SCxFQUFRLEdBQ1JBLEVBQVEsa0JDM0JSRyxFQUFBRCxRQUFBNEgsUUFBQSwyQkNBQTNILEVBQUFELFFBQUE0SCxRQUFBLHVCQ0FBM0gsRUFBQUQsUUFBQTRILFFBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJ2YXIgc2VsZWN0ZWRJbmRleCA9IDA7XG52YXIgY2Fyb3VzZWw7XG52YXIgYW5nbGUgPSAwO1xudmFyIGNsaWVudFRva2VuID0gXCI3NjU2MTE5ODI1MDIyMzE3NFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGNhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbFwiKTtcbiAgICAkLmdldEpTT04oXCJodHRwOi8vYXBpLnN0ZWFtcG93ZXJlZC5jb20vSVBsYXllclNlcnZpY2UvR2V0UmVjZW50bHlQbGF5ZWRHYW1lcy92MDAwMS8/a2V5PTdDMjE4RThEMTM0N0MzQ0Q2Q0I4MTE3RTVFRDUzM0JDJnN0ZWFtaWQ9XCIgKyBjbGllbnRUb2tlbiArIFwiJmZvcm1hdD1qc29uXCIsIEpTT04sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnJlc3BvbnNlLnRvdGFsX2NvdW50ID09IDApIHsgLy8gbnVsbCBjaGVjayB0byBwcmV2ZW50IGVycm9yXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vIHJlY2VudCBwbGF5ZWQgZ2FtZXNcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFNlbGVjdGVkUmVjZW50R2FtZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgZGF0YS5yZXNwb25zZS5nYW1lcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICB2YXIgZ2FtZSA9IGRhdGEucmVzcG9uc2UuZ2FtZXNbaV8xXTtcbiAgICAgICAgICAgIFNlbGVjdGVkUmVjZW50R2FtZXNbaV8xXSA9IG5ldyBHYW1lTWV0YShnYW1lLkFwcElkLCBnYW1lLm5hbWUsIGdhbWUuaW1nX2ljb25fdXJsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIHZhciBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhcm91c2VsX19jZWxsXCIpOyAvL2FzIGFueSBiZWNhdXNlIHdlIHdhbnQgYSBIVE1MaW1hZ2UgY29sbGVjdGlvbiBhbmQgaHRtbGVsZW1lbnQgaXMgbm90IGdlbmVyaWNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSAvL2xvb3AgaW50byBjYXJvdXNlbF9jZWxsIHRvIGFkZCBldmVudCBsaXN0ZW5lclxuICAgICAgICAge1xuICAgICAgICAgICAgbGlzdFtpXS5zcmMgPSBTZWxlY3RlZFJlY2VudEdhbWVzW2ldLnRodW1iO1xuICAgICAgICAgICAgbGlzdFtpXS5kYXRhc2V0LmdhbWUgPSBTZWxlY3RlZFJlY2VudEdhbWVzW2ldLkFwcElkO1xuICAgICAgICAgICAgbGlzdFtpXS5pZCA9IGkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGxpc3RbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXYgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgcm90YXRlQ2Fyb3VzZWwoZXYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcm90YXRlQ2Fyb3VzZWwodGFyZ2V0KSB7XG4gICAgYW5nbGUgPSAoc2VsZWN0ZWRJbmRleCAtIHRhcmdldC5pZCkgKiAyMCArIGFuZ2xlOyAvLyoyMCB0byBjb252ZXJ0IGluIGFuZ2xlXG4gICAgaWYgKHNlbGVjdGVkSW5kZXggPT0gdGFyZ2V0LmlkKSB7XG4gICAgICAgIExhdW5jaEdhbWUodGFyZ2V0LmRhdGFzZXQuZ2FtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2Fyb3VzZWwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVaKC04ODBweCkgcm90YXRlWShcIiArIGFuZ2xlICsgXCJkZWcpXCI7XG4gICAgc2VsZWN0ZWRJbmRleCA9IHRhcmdldC5pZDtcbn1cbmZ1bmN0aW9uIExhdW5jaEdhbWUoZ2FtZSkge1xuICAgIGNvbnNvbGUubG9nKGdhbWUpO1xufVxudmFyIEdhbWVNZXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdhbWVNZXRhKEFwcElkLCBuYW1lLCB0aHVtYikge1xuICAgICAgICB0aGlzLkFwcElkID0gQXBwSWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudGh1bWIgPSB0aHVtYjtcbiAgICB9XG4gICAgcmV0dXJuIEdhbWVNZXRhO1xufSgpKTtcbiIsImNvbnN0IGVsZWN0cm9uID0gcmVxdWlyZShcImVsZWN0cm9uXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5cbmNsYXNzIFN0b3JlXG57ICAgIFxuICAgIGNvbnN0cnVjdG9yKG5hbWUpXG4gICAge1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoLmpvaW4oKGVsZWN0cm9uLmFwcCB8fCBlbGVjdHJvbi5yZW1vdGUuYXBwKS5nZXRQYXRoKFwidXNlckRhdGFcIiksIG5hbWUgKyBcIi5qc29uXCIpO1xuICAgICAgICB0aGlzLmRhdGEgPSByZWFkRmlsZSh0aGlzLnBhdGgpO1xuICAgIH1cblxuICAgIGdldChrZXkpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07XG4gICAgfVxuXG4gICAgc2V0KGtleSwgdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHRoaXMucGF0aCwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZWFkRmlsZShwYXRoKVxue1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhdGgpKTtcbiAgICB9XG4gICAgY2F0Y2hcbiAgICB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3RvcmU7IiwidmFyIEdhbWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2FtZShuYW1lLCBhcHBpZCwgdGh1bWJuYWlsLCBsYXVuY2hlciwgbGF1bmNoZXJJRCwgaXNJbnN0YWxsZWQsIGxvY2FsUGF0aCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFwcGlkID0gYXBwaWQ7XG4gICAgICAgIHRoaXMudGh1bWJuYWlsID0gdGh1bWJuYWlsO1xuICAgICAgICB0aGlzLmxhdW5jaGVyID0gbGF1bmNoZXI7XG4gICAgICAgIHRoaXMubGF1bmNoZXJJRCA9IGxhdW5jaGVySUQ7XG4gICAgICAgIHRoaXMuaXNJbnN0YWxsZWQgPSBpc0luc3RhbGxlZDtcbiAgICAgICAgdGhpcy5sb2NhbFBhdGggPSBsb2NhbFBhdGg7XG4gICAgfVxuICAgIHJldHVybiBHYW1lO1xufSgpKTtcbmV4cG9ydCB7IEdhbWUgfTtcbmV4cG9ydCB2YXIgbGF1bmNoZXI7XG4oZnVuY3Rpb24gKGxhdW5jaGVyKSB7XG4gICAgbGF1bmNoZXJbbGF1bmNoZXJbXCJMb2NhbE9ubHlcIl0gPSAwXSA9IFwiTG9jYWxPbmx5XCI7XG4gICAgbGF1bmNoZXJbbGF1bmNoZXJbXCJTdGVhbVwiXSA9IDFdID0gXCJTdGVhbVwiO1xufSkobGF1bmNoZXIgfHwgKGxhdW5jaGVyID0ge30pKTtcbiIsInZhciBTdG9yZSA9IHJlcXVpcmUoXCIuLi9qcy9zdG9yZVwiKTtcbmltcG9ydCAqIGFzIFRva2VuTWFuYWdlciBmcm9tIFwiLi9Ub2tlbk1hbmFnZXJcIjtcbmltcG9ydCB7IEdhbWUsIGxhdW5jaGVyIH0gZnJvbSBcIi4vR2FtZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIExvYWRHYW1lcygpIHtcbiAgICB2YXIgU3RvcmUgPSByZXF1aXJlKFwiLi4vanMvc3RvcmVcIik7XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgaXNFbGVjdHJvbiA9IHVzZXJBZ2VudC5pbmRleE9mKFwiIGVsZWN0cm9uL1wiKSA+IC0xO1xuICAgIGlmIChpc0VsZWN0cm9uKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IG5ldyBTdG9yZShcIkdhbWVzXCIpO1xuICAgICAgICByZXR1cm4gc3RvcmUuZ2V0KFwiZ2FtZXNcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFHRU5UIElTIE5PVCBFTEVDVFJPTiwgTk8gSEFORExJTkcgRk9SIE5PV1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0ZUdhbWVzSlNPTigpIHtcbiAgICBBZGRTdGVhbUdhbWVzKCk7XG59XG4vLyNyZWdpb24gU3RlYW1SZXF1ZXN0c1xuZnVuY3Rpb24gQWRkU3RlYW1HYW1lcygpIHtcbiAgICB2YXIgc3RlYW1Ub2tlbiA9IFRva2VuTWFuYWdlci5nZXRTdGVhbVRva2VuKCk7XG4gICAgJC5nZXQoXCJodHRwczovL2FwaS5zdGVhbXBvd2VyZWQuY29tL0lQbGF5ZXJTZXJ2aWNlL0dldE93bmVkR2FtZXMvdjEvXCIgK1xuICAgICAgICBcIj9rZXk9N0MyMThFOEQxMzQ3QzNDRDZDQjgxMTdFNUVENTMzQkNcIiArXG4gICAgICAgIFwiJnN0ZWFtaWQ9XCIgKyBzdGVhbVRva2VuICtcbiAgICAgICAgXCImaW5jbHVkZV9hcHBpbmZvPTFcIiArXG4gICAgICAgIFwiJmluY2x1ZGVfcGxheWVkX2ZyZWVfZ2FtZXM9MVwiICtcbiAgICAgICAgXCImYXBwaWRzX2ZpbHRlcj0mZm9ybWF0PWpzb25cIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGdhbWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5yZXNwb25zZS5nYW1lX2NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBnYW1lRGF0YSA9IGRhdGEucmVzcG9uc2UuZ2FtZXNbaV07XG4gICAgICAgICAgICB2YXIgdGh1bWJuYWlsID0gXCJodHRwczovL3N0ZWFtY2RuLWEuYWthbWFpaGQubmV0L3N0ZWFtL2FwcHMvXCIgKyBnYW1lRGF0YS5hcHBpZCArIFwiL2hlYWRlci5qcGdcIjtcbiAgICAgICAgICAgIGdhbWVzW2ldID0gbmV3IEdhbWUoZ2FtZURhdGEubmFtZSwgZ2FtZURhdGEuYXBwaWQsIHRodW1ibmFpbCwgbGF1bmNoZXIuU3RlYW0sIG51bGwsIHRydWUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIC8vU2hvdWxkIHVzZSBhIGNvb2tpZSBpZiB0aGUgdXNlciBpcyBpbiB0aGUgYnJvd3NlclxuICAgICAgICB2YXIgc3RvcmUgPSBuZXcgU3RvcmUoXCJHYW1lc1wiKTtcbiAgICAgICAgc3RvcmUuc2V0KFwiZ2FtZXNcIiwgZ2FtZXMpOyAvL1NIT1VMRE4nVCBETyBJVCBMSUtFIFRIQVQsIEl0IG92ZXJyaWRlIGV2ZXJ5IGdhbWVzIGluIHRoZSBqc29uLlxuICAgIH0pO1xufVxuLy8jZW5kcmVnaW9uXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3RlYW1Ub2tlbigpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnNvbGUubG9nKFwiQWdlbnQ6IFwiICsgdXNlckFnZW50KTtcbiAgICB2YXIgaXNFbGVjdHJvbiA9IHVzZXJBZ2VudC5pbmRleE9mKFwiIGVsZWN0cm9uL1wiKSA+IC0xO1xuICAgIGlmIChpc0VsZWN0cm9uKSB7XG4gICAgICAgIHZhciBTdG9yZSA9IHJlcXVpcmUoXCIuLi9qcy9zdG9yZVwiKTtcbiAgICAgICAgdmFyIHRrblN0b3JlID0gbmV3IFN0b3JlKFwiYWNjb3VudFwiKTtcbiAgICAgICAgdmFyIHRrbiA9IHRrblN0b3JlLmdldChcInN0ZWFtXCIpO1xuICAgICAgICByZXR1cm4gdGtuICE9IG51bGwgPyB0a24gOiBcIjc2NTYxMTk4MjUwMjIzMTc0XCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFHRU5UIElTIE5PVCBFTEVDVFJPTiwgTk8gSEFORExJTkcgRk9SIE5PV1wiKTtcbiAgICAgICAgcmV0dXJuIFwiNzY1NjExOTgyNTAyMjMxNzRcIjsgLy9BIGRlZmF1bHQgc3RlYW0gY2xpZW50IGlkIChmb3IgdGVzdGluZyBvbmx5KVxuICAgIH1cbn1cbiIsImltcG9ydCB7IExvYWRHYW1lcywgVXBkYXRlR2FtZXNKU09OIH0gZnJvbSBcIi4vR2FtZUxvYWRlclwiO1xuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlR3JpZCgpIHtcbiAgICB2YXIgZ2FtZXMgPSBMb2FkR2FtZXMoKTtcbiAgICBVcGRhdGVHYW1lc0pTT04oKTtcbiAgICB2YXIgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlicmFyeVwiKTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdhbWUgPSBnYW1lc1tpXTtcbiAgICAgICAgdmFyIGdyaWRIdG1sID0gXCI8aW1nIHNyYz0nXCIgKyBnYW1lLnRodW1ibmFpbCArIFwiJy8+IDxwPlwiICsgZ2FtZS5uYW1lICsgXCI8L3A+XCI7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcImdhbWVcIjtcbiAgICAgICAgZWxlbWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyBvbkdhbWVDbGljayhnYW1lKTsgfTtcbiAgICAgICAgaWYgKGdhbWUuaXNJbnN0YWxsZWQpXG4gICAgICAgICAgICBncmlkSHRtbCArPSAnPGltZyBzcmM9XCIuLi8uLi9kaXN0L2RyYXdhYmxlcy9pbnN0YWxsZWQuc3ZnXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgcmlnaHQ6IDA7IHBhZGRpbmc6IDVweDtcIi8+JztcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBncmlkSHRtbDtcbiAgICAgICAgaWYgKGdyaWQgIT0gbnVsbClcbiAgICAgICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIF9sb29wXzEoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkdhbWVDbGljayhnYW1lQ2xpY2tlZCkge1xuICAgIGNvbnNvbGUubG9nKGdhbWVDbGlja2VkLm5hbWUpO1xufVxuIiwiLy8gaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiOyAvL1VzaW5nIGdsb2JhbCBzY29wZSBqcXVlcnkgaW5zdGVhZCBiZWFjYXVzZSBpdCBtYWtlIGEgaHVnZSBmaWxlIGlmIHdlIHVzZSB0aGlzLlxuaW1wb3J0IHsgc2V0dXAgfSBmcm9tIFwiLi9DYXJvdXNlbFwiO1xuaW1wb3J0IHsgcG9wdWxhdGVHcmlkIH0gZnJvbSBcIi4vTGlicmFyeVwiO1xuJChmdW5jdGlvbiAoKSB7XG4gICAgaG9tZSgpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsgaG9tZSgpOyB9O1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoQnRuXCIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IG9wZW5TZWFyY2goKTsgfTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzQnRuXCIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IG9wZW5TZXR0aW5ncygpOyB9O1xufSk7XG5mdW5jdGlvbiBob21lKCkge1xuICAgICQoXCIjY29udGVudFwiKS5sb2FkKFwiZnJhZ21lbnRzL2hvbWUuaHRtbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldHVwKCk7XG4gICAgICAgIHBvcHVsYXRlR3JpZCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikuaW5uZXJIVE1MID0gXCJFQVVcIjtcbn1cbmZ1bmN0aW9uIG9wZW5TZWFyY2goKSB7XG4gICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hJbnB1dFwiKTtcbiAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgaW5wdXQuZm9jdXMoKTtcbn1cbmZ1bmN0aW9uIG9wZW5TZXR0aW5ncygpIHtcbiAgICAkKFwiI2NvbnRlbnRcIikubG9hZChcImZyYWdtZW50cy9zZXR0aW5ncy5odG1sXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLmlubmVySFRNTCA9IFwiPGkgY2xhc3M9J2ljb24gZmFzIGZhLWFycm93LWxlZnQnPjwvaT4gIFNldHRpbmdzXCI7XG59XG5yZXF1aXJlKFwiLi9MaWJyYXJ5XCIpO1xucmVxdWlyZShcIi4vQ2Fyb3VzZWxcIik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbGVjdHJvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=